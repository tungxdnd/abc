<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		body {
			margin-left: 20%;
		}
		.error {
			color: red;
		}
	</style>

</head>
<body>
	<form >
		<div>
			<label>Name</label><br>
			<input type="text" name="name" id="name">
			<span class="error" id="errorName"> </span>
		</div>
		<div>
			<label>Email</label><br>
			<input type="email" name="email" id="email">
			<span class="error" id="errorEmail"> </span>
		</div>
		<div>
			<label>Password</label><br>
			<input type="password" name="password" id="password">
			<span class="error" id="errorPassword"> </span>
		</div>
		<div>
			<label>Mobile</label><br>
			<input type="text" name="mobile" id="mobile">
			<span class="error" id="errorMobile"> </span>
		</div>
		<div>
			<button id="add">Add</button>
		</div>
	</form>
	
	
	<script type="text/javascript">
		
		function checkPhoneNumber(phone) {
		    var flag = false;
		    phone = phone.replace('(+84)', '0');
		    phone = phone.replace('+84', '0');
		    phone = phone.replace('+840', '0');
		    phone = phone.replace('0084', '0');
		    phone = phone.replace(/ /g, '');
		    if (phone != '') {

		        var firstNumber = phone.substring(0, 2);

		        if ((firstNumber == '09' || firstNumber == '08' || firstNumber == '03' || firstNumber == '05' || firstNumber == '04' || firstNumber == '06' || firstNumber == '07') && phone.length == 10) {
		            if (phone.match(/^\d{10}/)) {
		                flag = true;
		            }
		        }
		    }
		    return flag;
		}

		function validateEmail(email) {
		    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
		    return re.test(String(email).toLowerCase());
		}

		document.getElementById('add').addEventListener('click', function(e) {
			
			e.preventDefault();

			var name = document.getElementById('name');
			var email = document.getElementById('email');
			var password = document.getElementById('password');
			var mobile = document.getElementById('mobile');
			

			if (name.value.trim() == '') {
				document.getElementById('errorName').innerHTML = 'please input your name';
			}
			else {
				document.getElementById('errorName').innerHTML = '';
			}
			

			if (email.value.trim() == '') {
				document.getElementById('errorEmail').innerHTML = 'please input your email';
			}
			else if(
				!validateEmail(email.value)) {
	
				document.getElementById('errorEmail').innerHTML = 'Email is valid';
			}
			else {
				document.getElementById('errorEmail').innerHTML = '';
			}


			if (password.value.trim() == '') {
				document.getElementById('errorPassword').innerHTML = 'please input your password';
			}
			else if(password.value.length < 6) {

				document.getElementById('errorPassword').innerHTML = 'Password need at least 6 characters';
			}
			else {
				document.getElementById('errorPassword').innerHTML = '';
			}
			
			
			if (mobile.value.trim() == '') {
				document.getElementById('errorMobile').innerHTML = 'please input your mobile';
			}
	
			else if (!checkPhoneNumber(mobile.value)) {
				// kiem tra dinh dang so dien thoai o day
				document.getElementById('errorMobile').innerHTML = 'Mobile is valid';
			}
			else {
				document.getElementById('errorMobile').innerHTML = '';
			}

		})
	</script>

</body>
</html>