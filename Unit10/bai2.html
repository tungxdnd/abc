<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="css/bai2.css">
</head>
<body>
	<div id="formbt">
		<form action="">
			<div>
				<label for="">Họ và tên</label>
				<input type="text" id="hoten" placeholder="Nhập họ tên">
				<p class="error errorHoten" id="errorHoten"></p>
			</div>
			<div>
				<label for="">Giới tính</label>
				<div class="gioitinh">
					<span>Nam</span><input type="radio" name="genger" value="man" id="gioitinhnam"> <span>Nữ</span> <input type="radio" name="gender" value="woman" id="gioitinhnu">
				</div>
			</div>
			<div>
				<label for="">Email</label>
				<input type="text" id="email" placeholder="Nhập email">
				<p class="error errorEmail" id="errorEmail"></p>
			</div>
			<div>
				<label for="">Số điện thoại</label>
				<input type="text" id="sdt" placeholder="Nhập số điện thoại">
				<p class="error errorMobile" id="errorMobile"></p>
			</div>
			<div>
				<label for="">Mật khẩu</label>
				<input type="text" id="matkhau">
				<p class="error errorPassword" id="errorPassword"></p>
			</div>
			<div>
				<label for="">Xác nhận mật khẩu</label>
				<input type="text" id="xnmatkhau">
				<p class="error errorConfirmPassword" id="errorConfirmPassword"></p>
			</div>
			<input type="button" value="Đăng ký" id="signup"> <input type="button" value="Xóa Trắng" id="delete">
			<div class="clear"></div>
		</form>
	</div>
	<script>
		function validateEmail(email) {
		    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
		    return re.test(String(email).toLowerCase());
		}


		function checkPhoneNumber(phone) {
		    var flag = false;
		    phone = phone.replace('(+84)', '0');
		    phone = phone.replace('+84', '0');
		    phone = phone.replace('+840', '0');
		    phone = phone.replace('0084', '0');
		    phone = phone.replace(/ /g, '');
		    if (phone != '') {

		        var firstNumber = phone.substring(0, 2);

		        if ((firstNumber == '09' || firstNumber == '08' || firstNumber == '03' || firstNumber == '05' || firstNumber == '04' || firstNumber == '06' || firstNumber == '07') && phone.length == 10) {
		            if (phone.match(/^\d{10}/)) {
		                flag = true;
		            }
		        }
		    }
		    return flag;
		}


		document.getElementById('signup').addEventListener('click',function (e) {

			e.preventDefault();

			var hoten = document.getElementById('hoten')
			var gioitinhnam = document.getElementById('gioitinhnam')
			var gioitinhnu = document.getElementById('gioitinhnu')
			var email = document.getElementById('email')
			var sdt = document.getElementById('sdt')
			var matkhau = document.getElementById('matkhau')
			var xnmatkhau = document.getElementById('xnmatkhau')

			if (hoten.value.trim() =='') {
				document.getElementById('errorHoten').innerHTML = 'Họ tên không hợp lệ'
			}
			else if (hoten.value.length < 8) {
				document.getElementById('errorHoten').innerHTML = 'Họ tên không được dưới 6 ký tự';
			}
			else {
				document.getElementById('errorHoten').innerHTML = '';
			}


			if (email.value.trim() == '') {
				document.getElementById('errorEmail').innerHTML = 'Vui lòng nhập email';
			}
			else if(
				!validateEmail(email.value)) {
	
				document.getElementById('errorEmail').innerHTML = 'Email không hợp lệ';
			}
			else {
				document.getElementById('errorEmail').innerHTML = '';
			}



			if (sdt.value.trim() == '') {
				document.getElementById('errorMobile').innerHTML = 'Vui lòng nhập số điện thoại';
			}
	
			else if (!checkPhoneNumber(sdt.value)) {
				// kiem tra dinh dang so dien thoai o day
				document.getElementById('errorMobile').innerHTML = 'Số điện thoại không hợp lệ';
			}
			else {
				document.getElementById('errorMobile').innerHTML = '';
			}



			if (matkhau.value.trim() == '') {
				document.getElementById('errorPassword').innerHTML = 'Bạn chưa nhập mật khẩu';
			}
			else if(matkhau.value.length < 6) {

				document.getElementById('errorPassword').innerHTML = 'Mật khẩu không dưới 6 ký tự';
			}
			else {
				document.getElementById('errorPassword').innerHTML = '';
			}



			
			/*	alert("Passwords do not match."); : thông báo trên thanh công cụ*/

              /*  return false;
            }
            return true;*/
            if(matkhau.value != xnmatkhau.value) {
            document.getElementById('errorConfirmPassword').innerHTML = 'Mật khẩu không khớp';
        	}
        	else if (matkhau.value = xnmatkhau.value) {
        		document.getElementById('errorConfirmPassword').innerHTML = '';
        	}


		})
	</script>
</body>
</html>